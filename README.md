# Plaud Local

–°–∏—Å—Ç–µ–º–∞ –¥–ª—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏ –∞—É–¥–∏–æ –∏ —Å–æ–∑–¥–∞–Ω–∏—è —Å–∞–º–º–∞—Ä–∏ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Whisper –∏ DeepSeek.

## üöÄ –ù–æ–≤–∞—è –º–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–ü—Ä–æ–µ–∫—Ç –±—ã–ª –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏—Ä–æ–≤–∞–Ω —Å —Å–æ–∑–¥–∞–Ω–∏–µ–º –º–æ–¥—É–ª—å–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã, —Å–ª–µ–¥—É—é—â–µ–π –ø—Ä–∏–Ω—Ü–∏–ø–∞–º SOLID. –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã —Å–º–æ—Ç—Ä–∏—Ç–µ –≤ [ARCHITECTURE.md](ARCHITECTURE.md).

### –ö–ª—é—á–µ–≤—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:
- **–ú–æ–¥—É–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞** —Å —á–µ—Ç–∫–∏–º —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏
- **–ù–∏–∑–∫–∞—è —Å–≤—è–∑–Ω–æ—Å—Ç—å** –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏  
- **–í—ã—Å–æ–∫–∞—è —Å–≤—è–∑–∞–Ω–Ω–æ—Å—Ç—å** –≤–Ω—É—Ç—Ä–∏ –º–æ–¥—É–ª–µ–π
- **–£–ª—É—á—à–µ–Ω–Ω–∞—è —Ç–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å** –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç—å
- **–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—é**

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
plaud_local/
‚îú‚îÄ‚îÄ src/                    # –û—Å–Ω–æ–≤–Ω–æ–π –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥
‚îÇ   ‚îú‚îÄ‚îÄ api/               # API —Å–ª–æ–π (FastAPI endpoints)
‚îÇ   ‚îú‚îÄ‚îÄ config/            # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ core/              # –û—Å–Ω–æ–≤–Ω–æ–µ —è–¥—Ä–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ models/            # –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö (SQLAlchemy)
‚îÇ   ‚îú‚îÄ‚îÄ services/          # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –∏ —Å–µ—Ä–≤–∏—Å—ã
‚îÇ   ‚îú‚îÄ‚îÄ tasks/             # –§–æ–Ω–æ–≤—ã–µ –∑–∞–¥–∞—á–∏ (RQ workers)
‚îÇ   ‚îú‚îÄ‚îÄ utils/             # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ workers/           # HTTP –≤–æ—Ä–∫–µ—Ä—ã
‚îú‚îÄ‚îÄ api/static/            # –í–µ–±-–∫–ª–∏–µ–Ω—Ç (—Å—Ç–∞—Ç–∏—á–Ω—ã–µ —Ñ–∞–π–ª—ã)
‚îú‚îÄ‚îÄ main.py               # –û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (–ø–æ—Ä—Ç 8001)
‚îú‚îÄ‚îÄ api_main.py           # API —Å–µ—Ä–≤–µ—Ä (–ø–æ—Ä—Ç 8000)
‚îú‚îÄ‚îÄ transcribe_server.py  # –°–µ—Ä–≤–µ—Ä —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏ (–ø–æ—Ä—Ç 8002)
‚îú‚îÄ‚îÄ start.py              # –°–∫—Ä–∏–ø—Ç –±—ã—Å—Ç—Ä–æ–≥–æ –∑–∞–ø—É—Å–∫–∞
‚îî‚îÄ‚îÄ docker-compose.yml    # Docker –∫–æ–º–ø–æ–Ω–æ–≤–∫–∞
```

## –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

–í—Å–µ API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –∑–∞—â–∏—â–µ–Ω—ã –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π. –î–ª—è –¥–æ—Å—Ç—É–ø–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–µ—Ä–µ–¥–∞—Ç—å API —Ç–æ–∫–µ–Ω –æ–¥–Ω–∏–º –∏–∑ —Å–ø–æ—Å–æ–±–æ–≤:

### 1. Authorization Header (JWT)
```
Authorization: Bearer your_jwt_token_here
```

### 2. X-API-Key Header (—Å—Ç–∞—Ç–∏—á–Ω—ã–π —Ç–æ–∫–µ–Ω)
```
X-API-Key: your_static_token_here
```

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞

1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ `env.example` –≤ `.env`
2. –£–∫–∞–∂–∏—Ç–µ API —Ç–æ–∫–µ–Ω—ã –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `API_AUTH_TOKEN`:
   ```
   API_AUTH_TOKEN=your_secret_token_here,another_token_if_needed
   ```
3. –ï—Å–ª–∏ –æ—Å—Ç–∞–≤–∏—Ç—å `API_AUTH_TOKEN` –ø—É—Å—Ç—ã–º - –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –±—É–¥–µ—Ç –æ—Ç–∫–ª—é—á–µ–Ω–∞

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ —Ç–∞–π–º–∞—É—Ç–∞

–î–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏ –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:

- **TRANSCRIBE_TIMEOUT** - —Ç–∞–π–º–∞—É—Ç –¥–ª—è –∑–∞–¥–∞—á —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏ –≤ —Å–µ–∫—É–Ω–¥–∞—Ö (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 600 = 10 –º–∏–Ω—É—Ç)
- **WHISPER_FAST_MODE** - –±—ã—Å—Ç—Ä—ã–π —Ä–µ–∂–∏–º —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –º–µ–Ω—å—à–µ–π –º–æ–¥–µ–ª–∏ (true/false)
- **WHISPER_MODEL** - —Ä–∞–∑–º–µ—Ä –º–æ–¥–µ–ª–∏ Whisper (tiny, base, small, medium, large, large-v2)
- **WHISPER_DEVICE** - —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ (cpu, cuda)
- **WHISPER_COMPUTE_TYPE** - —Ç–∏–ø –≤—ã—á–∏—Å–ª–µ–Ω–∏–π (int8, float16, float32)

–ü—Ä–∏–º–µ—Ä –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏:
```
WHISPER_FAST_MODE=true
WHISPER_MODEL=small
TRANSCRIBE_TIMEOUT=300
```

## –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫

### –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
```bash
python start.py
```

### –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫
```bash
docker-compose up -d
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–æ—Å—Ç—É–ø–∞ —Å –¥—Ä—É–≥–∏—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å–µ—Ä–≤–∏—Å—ã –¥–æ—Å—Ç—É–ø–Ω—ã —Ç–æ–ª—å–∫–æ —Å –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞. –î–ª—è –¥–æ—Å—Ç—É–ø–∞ —Å –¥—Ä—É–≥–∏—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ –≤ —Å–µ—Ç–∏:

#### 1. –ò–∑–º–µ–Ω–µ–Ω–∏–µ IP –∞–¥—Ä–µ—Å–∞ –≤ docker-compose.yml

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª `docker-compose.yml` –∏ –∏–∑–º–µ–Ω–∏—Ç–µ –ø–æ—Ä—Ç—ã:

```yaml
services:
  main:
    ports:
      - "0.0.0.0:8001:8001"  # –î–æ—Å—Ç—É–ø–Ω–æ —Å –ª—é–±–æ–≥–æ IP
  api:
    ports:
      - "0.0.0.0:8000:8000"  # –î–æ—Å—Ç—É–ø–Ω–æ —Å –ª—é–±–æ–≥–æ IP
  worker_transcribe:
    ports:
      - "0.0.0.0:8002:8002"  # –î–æ—Å—Ç—É–ø–Ω–æ —Å –ª—é–±–æ–≥–æ IP
```

#### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–í —Ñ–∞–π–ª–µ `.env` –¥–æ–±–∞–≤—å—Ç–µ –∏–ª–∏ –∏–∑–º–µ–Ω–∏—Ç–µ:

```env
# –î–ª—è –¥–æ—Å—Ç—É–ø–∞ —Å –¥—Ä—É–≥–∏—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ –≤ —Å–µ—Ç–∏
REDIS_URL=redis://YOUR_LOCAL_IP:6379
TRANSCRIBE_SERVER_URL=http://YOUR_LOCAL_IP:8002
```

–ó–∞–º–µ–Ω–∏—Ç–µ `YOUR_LOCAL_IP` –Ω–∞ –≤–∞—à –ª–æ–∫–∞–ª—å–Ω—ã–π IP –∞–¥—Ä–µ—Å (–Ω–∞–ø—Ä–∏–º–µ—Ä, `192.168.1.100`).

#### 3. –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ IP –∞–¥—Ä–µ—Å–∞

**Windows:**
```cmd
ipconfig
```

**Linux/macOS:**
```bash
ip addr show
# –∏–ª–∏
ifconfig
```

#### 4. –î–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–∏—Å–∞–º

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ä–≤–∏—Å—ã –±—É–¥—É—Ç –¥–æ—Å—Ç—É–ø–Ω—ã –ø–æ –∞–¥—Ä–µ—Å–∞–º:
- **–û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ**: `http://YOUR_LOCAL_IP:8001`
- **API**: `http://YOUR_LOCAL_IP:8000`
- **–í–µ–±-–∫–ª–∏–µ–Ω—Ç**: `http://YOUR_LOCAL_IP:8000/app`
- **–°–µ—Ä–≤–µ—Ä —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏–∏**: `http://YOUR_LOCAL_IP:8002`

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ñ–∞–π—Ä–≤–æ–ª–∞

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–æ—Ä—Ç—ã 8000, 8001, 8002 –æ—Ç–∫—Ä—ã—Ç—ã –≤ —Ñ–∞–π—Ä–≤–æ–ª–µ:

**Windows:**
```cmd
# –û—Ç–∫—Ä—ã—Ç—å –ø–æ—Ä—Ç 8000
netsh advfirewall firewall add rule name="Plaud API" dir=in action=allow protocol=TCP localport=8000

# –û—Ç–∫—Ä—ã—Ç—å –ø–æ—Ä—Ç 8001
netsh advfirewall firewall add rule name="Plaud Main" dir=in action=allow protocol=TCP localport=8001

# –û—Ç–∫—Ä—ã—Ç—å –ø–æ—Ä—Ç 8002
netsh advfirewall firewall add rule name="Plaud Transcribe" dir=in action=allow protocol=TCP localport=8002
```

**Linux (ufw):**
```bash
sudo ufw allow 8000
sudo ufw allow 8001
sudo ufw allow 8002
```

**Linux (iptables):**
```bash
sudo iptables -A INPUT -p tcp --dport 8000 -j ACCEPT
sudo iptables -A INPUT -p tcp --dport 8001 -j ACCEPT
sudo iptables -A INPUT -p tcp --dport 8002 -j ACCEPT
```

## –î–æ—Å—Ç—É–ø–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã

- **Main App**: http://localhost:8001 (–æ—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ)
- **API**: http://localhost:8000 (API –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏)
- **Transcribe Server**: http://localhost:8002 (—Å–µ—Ä–≤–µ—Ä —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏)
- **Redis**: localhost:6379
- **Web Client**: http://localhost:8000/app (–≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å)

## API Endpoints

–í—Å–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã —Ç—Ä–µ–±—É—é—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏:

### –û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (–ø–æ—Ä—Ç 8001)
- `GET /` - –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
- `GET /health` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è
- `GET /info` - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–∏—Å—Ç–µ–º–µ
- `GET /auth/check` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

### API (–ø–æ—Ä—Ç 8000)
- `POST /auth/register` - —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `POST /auth/login` - –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `GET /auth/me` - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–µ–∫—É—â–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
- `GET /auth/check` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- `POST /upload` - –∑–∞–≥—Ä—É–∑–∫–∞ –∞—É–¥–∏–æ —Ñ–∞–π–ª–∞
- `GET /status/{job_id}` - —Å—Ç–∞—Ç—É—Å –æ–±—Ä–∞–±–æ—Ç–∫–∏
- `GET /result/{job_id}` - —Ä–µ–∑—É–ª—å—Ç–∞—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏
- `GET /healthz` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è API
- `GET /history` - –∏—Å—Ç–æ—Ä–∏—è –∑–∞–¥–∞—á
- `DELETE /history/{job_id}` - —É–¥–∞–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ (—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤)
- `GET /users` - —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- `DELETE /users/{user_id}` - —É–¥–∞–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `PATCH /users/{user_id}/deactivate` - –¥–µ–∞–∫—Ç–∏–≤–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `PATCH /users/{user_id}/activate` - –∞–∫—Ç–∏–≤–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `PATCH /users/{user_id}/make-admin` - –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º
- `PATCH /users/{user_id}/remove-admin` - —Å–Ω—è—Ç–∏–µ –ø—Ä–∞–≤ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

## –í–µ–±-–∫–ª–∏–µ–Ω—Ç

–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É http://localhost:8000/app
–î–ª—è —Ä–∞–±–æ—Ç—ã –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–≤–µ—Å—Ç–∏ API –∫–ª—é—á –≤ –ø–æ–ª–µ "API key".

### –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

–°–∏—Å—Ç–µ–º–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ JWT –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é:

1. **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è**: `POST /auth/register` - —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
2. **–í—Ö–æ–¥**: `POST /auth/login` - –ø–æ–ª—É—á–µ–Ω–∏–µ JWT —Ç–æ–∫–µ–Ω–∞
3. **–ü—Ä–æ–≤–µ—Ä–∫–∞**: `GET /auth/me` - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–µ–∫—É—â–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ

### –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

#### –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```bash
curl -X POST "http://localhost:8000/auth/register" \
  -H "Content-Type: application/x-www-form-urlencoded" \
  -d "username=testuser&email=test@example.com&password=password123"
```

#### –í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É
```bash
curl -X POST "http://localhost:8000/auth/login" \
  -H "Content-Type: application/x-www-form-urlencoded" \
  -d "username=testuser&password=password123"
```

#### –ó–∞–≥—Ä—É–∑–∫–∞ –∞—É–¥–∏–æ —Ñ–∞–π–ª–∞
```bash
curl -X POST "http://localhost:8000/upload" \
  -H "Authorization: Bearer YOUR_JWT_TOKEN" \
  -F "file=@audio.wav" \
  -F "language=ru"
```

#### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–¥–∞—á–∏
```bash
curl -X GET "http://localhost:8000/status/JOB_ID" \
  -H "Authorization: Bearer YOUR_JWT_TOKEN"
```

#### –ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
```bash
curl -X GET "http://localhost:8000/result/JOB_ID" \
  -H "Authorization: Bearer YOUR_JWT_TOKEN"
```

## –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º—ã —Å –¥–æ—Å—Ç—É–ø–æ–º –∫ —Å–µ—Ä–≤–∏—Å–∞–º

#### –°–µ—Ä–≤–∏—Å—ã –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã —Å –¥—Ä—É–≥–∏—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤

**–ü—Ä–æ–±–ª–µ–º–∞**: –°–µ—Ä–≤–∏—Å—ã —Ä–∞–±–æ—Ç–∞—é—Ç —Ç–æ–ª—å–∫–æ –Ω–∞ localhost, –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã —Å –¥—Ä—É–≥–∏—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ –≤ —Å–µ—Ç–∏.

**–†–µ—à–µ–Ω–∏–µ**:
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ `docker-compose.yml` –ø–æ—Ä—Ç—ã –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –∫–∞–∫ `"0.0.0.0:PORT:PORT"`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ñ–∞–π—Ä–≤–æ–ª –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç –ø–æ—Ä—Ç—ã 8000, 8001, 8002
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –æ–¥–Ω–æ–π —Å–µ—Ç–∏
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ IP –∞–¥—Ä–µ—Å –∫–æ–º–∞–Ω–¥–æ–π `ipconfig` (Windows) –∏–ª–∏ `ip addr show` (Linux)

#### –û—à–∏–±–∫–∞ "Connection refused"

**–ü—Ä–æ–±–ª–µ–º–∞**: –ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–µ—Ä–≤–∏—Å–∞–º –ø–æ–ª—É—á–∞–µ—Ç–µ –æ—à–∏–±–∫—É –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è.

**–†–µ—à–µ–Ω–∏–µ**:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∑–∞–ø—É—â–µ–Ω—ã: `docker-compose ps`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `docker-compose logs`
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–æ—Ä—Ç—ã –Ω–µ –∑–∞–Ω—è—Ç—ã –¥—Ä—É–≥–∏–º–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏
4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å—ã: `docker-compose restart`

#### –ü—Ä–æ–±–ª–µ–º—ã —Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π

**–ü—Ä–æ–±–ª–µ–º–∞**: API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫—É 401 Unauthorized.

**–†–µ—à–µ–Ω–∏–µ**:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤ `.env` —Ñ–∞–π–ª–µ —É–∫–∞–∑–∞–Ω `API_AUTH_TOKEN`
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ç–æ–∫–µ–Ω –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ `Authorization: Bearer <token>` –∏–ª–∏ `X-API-Key: <token>`

### –û—à–∏–±–∫–∞ —Ç–∞–π–º–∞—É—Ç–∞ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏

–ï—Å–ª–∏ –≤—ã –ø–æ–ª—É—á–∞–µ—Ç–µ –æ—à–∏–±–∫—É —Ç–∞–π–º–∞—É—Ç–∞ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏, —ç—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –∞—É–¥–∏–æ—Ñ–∞–π–ª —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω—ã–π –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏.

**–†–µ—à–µ–Ω–∏—è:**
1. **–£–≤–µ–ª–∏—á–∏—Ç—å —Ç–∞–π–º–∞—É—Ç** - —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `TRANSCRIBE_TIMEOUT=1200` (20 –º–∏–Ω—É—Ç) –∏–ª–∏ –±–æ–ª—å—à–µ
2. **–í–∫–ª—é—á–∏—Ç—å –±—ã—Å—Ç—Ä—ã–π —Ä–µ–∂–∏–º** - —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `WHISPER_FAST_MODE=true`
3. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–µ–Ω—å—à—É—é –º–æ–¥–µ–ª—å** - —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `WHISPER_MODEL=small` –∏–ª–∏ `WHISPER_MODEL=base`
4. **–†–∞–∑–±–∏—Ç—å –¥–ª–∏–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã** - –∑–∞–≥—Ä—É–∂–∞–π—Ç–µ –∞—É–¥–∏–æ —á–∞—Å—Ç—è–º–∏ –ø–æ 10-15 –º–∏–Ω—É—Ç

**–ü—Ä–∏–º–µ—Ä –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –¥–ª–∏–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤:**
```
TRANSCRIBE_TIMEOUT=1200
WHISPER_FAST_MODE=true
WHISPER_MODEL=small
```

### –ú–µ–¥–ª–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞

–î–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –æ–±—Ä–∞–±–æ—Ç–∫–∏:
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ GPU: `WHISPER_DEVICE=cuda`
- –í–∫–ª—é—á–∏—Ç–µ –±—ã—Å—Ç—Ä—ã–π —Ä–µ–∂–∏–º: `WHISPER_FAST_MODE=true`
- –í—ã–±–µ—Ä–∏—Ç–µ –º–µ–Ω—å—à—É—é –º–æ–¥–µ–ª—å: `WHISPER_MODEL=base` –∏–ª–∏ `WHISPER_MODEL=small`

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø–æ—Ä—Ç–æ–≤

–ï—Å–ª–∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –ø–æ—Ä—Ç—ã –∑–∞–Ω—è—Ç—ã, –∏–∑–º–µ–Ω–∏—Ç–µ –∏—Ö –≤ `docker-compose.yml`:

```yaml
services:
  main:
    ports:
      - "0.0.0.0:9001:8001"  # –ò–∑–º–µ–Ω–∏—Ç—å –≤–Ω–µ—à–Ω–∏–π –ø–æ—Ä—Ç –Ω–∞ 9001
  api:
    ports:
      - "0.0.0.0:9000:8000"  # –ò–∑–º–µ–Ω–∏—Ç—å –≤–Ω–µ—à–Ω–∏–π –ø–æ—Ä—Ç –Ω–∞ 9000
  worker_transcribe:
    ports:
      - "0.0.0.0:9002:8002"  # –ò–∑–º–µ–Ω–∏—Ç—å –≤–Ω–µ—à–Ω–∏–π –ø–æ—Ä—Ç –Ω–∞ 9002
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞

–î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:

1. **–ò–∑–º–µ–Ω–∏—Ç—å JWT —Å–µ–∫—Ä–µ—Ç**:
   ```env
   JWT_SECRET_KEY=your-very-secure-secret-key-here
   ```

2. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö PostgreSQL**:
   ```env
   DATABASE_URL=postgresql://user:password@postgres:5432/plaud
   ```

3. **–û–≥—Ä–∞–Ω–∏—á–∏—Ç—å CORS**:
   –í `src/api/main.py` –∏–∑–º–µ–Ω–∏—Ç–µ:
   ```python
   allow_origins=["https://yourdomain.com"]  # –í–º–µ—Å—Ç–æ ["*"]
   ```

4. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å SSL/HTTPS** —á–µ—Ä–µ–∑ reverse proxy (nginx, traefik)

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏

–î–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã:

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose logs -f

# –õ–æ–≥–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
docker-compose logs -f api
docker-compose logs -f main
docker-compose logs -f worker_transcribe

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤
docker stats
```

### –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ

–î–ª—è —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö:

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –±—ç–∫–∞–ø–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
docker-compose exec api python -c "
import sqlite3
import shutil
shutil.copy('/data/plaud.db', '/data/plaud_backup_$(date +%Y%m%d).db')
"

# –°–æ–∑–¥–∞–Ω–∏–µ –∞—Ä—Ö–∏–≤–∞ –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö
tar -czf plaud_backup_$(date +%Y%m%d).tar.gz data/
```

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [ARCHITECTURE.md](ARCHITECTURE.md) - –ø–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞
- –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π

## üõ†Ô∏è –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—É—é –º–æ–¥—É–ª—å–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É —Å —á–µ—Ç–∫–∏–º —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏:

- **–ú–æ–¥–µ–ª–∏** (`src/models/`) - –¥–∞–Ω–Ω—ã–µ –∏ ORM
- **–°–µ—Ä–≤–∏—Å—ã** (`src/services/`) - –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
- **API** (`src/api/`) - HTTP endpoints
- **–£—Ç–∏–ª–∏—Ç—ã** (`src/utils/`) - –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- **–ó–∞–¥–∞—á–∏** (`src/tasks/`) - —Ñ–æ–Ω–æ–≤—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã

–î–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ —Å–ª–µ–¥—É–π—Ç–µ –ø—Ä–∏–Ω—Ü–∏–ø–∞–º SOLID –∏ —Ä–∞–∑–º–µ—â–∞–π—Ç–µ –∫–æ–¥ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö –º–æ–¥—É–ª—è—Ö.